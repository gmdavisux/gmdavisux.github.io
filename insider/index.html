<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Email Generator</title>
    <link rel="apple-touch-icon" sizes="180x180" href="./fav/apple-touch-icon.png?=v2">
    <link rel="icon" type="image/png" sizes="32x32" href="./fav/favicon-32x32.png?=v2">
    <link rel="icon" type="image/png" sizes="16x16" href="./fav/favicon-16x16.png?=v2">
    <link rel="manifest" href="./fav/site.webmanifest?=v2">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        :root {
            --main-font: "Inter", sans-serif;
            /* --main-text-color: rgb(14, 14, 14); */
            --bs-accordion-button-active-bg: #fc0;
            /* Replace with the color you want */
        }

        body {
            font-family: var(--main-font);
            /* color: var(--main-text-color); */
            font-weight: 400;
            letter-spacing: -0.2px;
        }

        h1,
        h2,
        h3,
        h4,
        h5 {
            font-family: var(--main-font);
            font-weight: 600;
        }

        .editable {
            border: 1px solid orangered;
            border-radius: 3px;
            display: inline-block;
            color: blue;
            background-color: lightcyan;
            min-width: 1em;
        }

        .editable:focus {
            background-color: none;
            border: none;
            color: inherit;
        }

        .editable.changed {
            /* Change the appearance of the element when it's changed */
            background-color: inherit;
            border: none;
        }

        #myMessage {
            border: 1px solid #ccc;
            padding: 1em;
            border-radius: .5em;
        }
    </style>

</head>

<body data-bs-spy="scroll" data-bs-target="#navbarNav">
    <nav class="navbar navbar-expand-lg border-body" style="background-color: rgb(255, 193, 7);">
        <div class="container">
            <a class="navbar-brand fw-semibold" href="#">InsiderJobs</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Link</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Dropdown
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">Action</a></li>
                            <li><a class="dropdown-item" href="#">Another action</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled" aria-disabled="true">Disabled</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="d-flex">
        <div class="flex-shrink-0 p-3 bg-light" style="width: 280px;">
            <ul class="nav nav-pills flex-column mb-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/page1">Major Item 1</a>
                </li>
                <ul>
                    <li class="nav-item">
                        <a class="nav-link" href="#section1">Minor Item 1</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#section2">Minor Item 2</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#section3">Minor Item 2</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#section4">Minor Item 2</a>
                    </li>
                </ul>
                <li class="nav-item">
                    <a class="nav-link" href="/page2">Major Item 2</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#section1">Minor Item 1</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#section2">Minor Item 2</a>
                </li>
            </ul>
        </div>
        <div class="container py-5">
            <div class="row">
                <div class="col-md-12">
                    <h1>Stop applying for jobs</h1>
                    <h3>It feels productive, but it's not.</h3>
                    <p> Despite the illusion of
                        productivity from sending out countless resumes and cover letters, the hard truth is that you're
                        unlikely to gain any traction.
                    <p>I know it's not easy to stop. I usually start my job search on Linkedin and it takes a while for
                        me
                        to learn again it is not working. <br /><strong>I WANT to believe.</strong></p>
                    <p>There are several reasons why this dated method yields
                        diminishing
                        returns:</p>
                </div>
                <div class="col-md-6 col-lg-3 d-flex">
                    <div class="p-3 my-3 text-bg-warning rounded">
                        <h3>Job boards are the last resort of&nbsp;employers</h3>
                        <p>Companies frequently prefer to tap into their existing networks or utilize recruitment
                            agencies,
                            keeping these roles hidden from public job boards. By solely relying on published listings,
                            you're
                            missing out on a substantial segment of the job market.</p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3 d-flex">
                    <div class="p-3 my-3 text-bg-warning rounded">
                        <h3>It's you against the&nbsp;horde</h3>
                        <p>In the age or remote work, you're competing against an overwhelming number of applicants for
                            every posted position.
                            Employers
                            are inundated with hundreds, if not thousands, of applications. Realistically, they can only
                            schedule a handful of interviews before moving on, leaving the vast majority of applicants
                            in
                            limbo.
                        </p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3 d-flex">
                    <div class="p-3 my-3 text-bg-warning rounded">
                        <h3>Timing is&nbsp;everthing</h3>
                        <p>Many employers have already initiated their recruitment process well before listing the role,
                            putting
                            you at the back of the queue from the outset. Your application may simply arrive too late to
                            be
                            given due consideration. </p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3 d-flex">
                    <div class="p-3 my-3 text-bg-warning rounded">
                        <h3>The machine has no&nbsp;soul</h3>
                        <p>Your carefully crafted resume and cover letter can easily get lost in the digital abyss,
                            failing
                            to
                            truly showcase your unique capabilities and potential value to the employer. Tweaking
                            keywords
                            and endless rewrites are not the answer.</p>
                    </div>
                </div>
                <div class="col-md-12">
                    <h2>What to do instead</h2>
                    <p>It's time to rethink this outdated strategy and explore more effective, modern methods to uncover
                        and
                        secure rewarding career opportunities.</p>
                    <p>This is simply a free resource I'm offering to be helpful, based on what I learned from my own
                        job-searches and career counseling. I'm not an expert but this is what works for me. I provide
                        links
                        and advice but will offfer tools when I can.</p>
                    <p><strong>There is no online list of hidden jobs. </strong>You have to do the work.</p>
                    </p>
                </div> <!-- end of col -->
            </div> <!-- end of row -->
            <div class="row">
                <div class="col-md-12" id="contentList">
                    <h2>Steps to land your next job <span class="h5">(repeat as needed)</span></h2>
                    <!-- append accordion here -->
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div>
    </div>
    <div class="container py-3" id="emailContainer">
        <div class="row">
            <div class="col-md-12">
                <h2 id="section4">Message to an insider</h2>
                <!-- <p><i class="bi bi-clipboard" style="display:inline-block; width:1.5em;"></i>Copy the text if you want
                    to use it via Linkedin messaging or some other text message system. </p>
                <p><i class="bi bi-envelope" style="display:inline-block; width:1.5em;"></i>You can Send it via email in
                    your usual email app if you have the reciepients email address. </p> -->
            </div> <!-- end of col -->
        </div> <!-- end of row -->
        <div class="row">
            <div class="col-md-6 mb-2">
                <label for="relationship" class="form-label">Insider's Relationship</label>
                <select class="form-select" id="relationship">
                    <option value="knowWell" selected>Know each other well</option>
                    <option value="workInTheSameField">Work in the same field</option>
                    <option value="workedWith">Once worked with</option>
                    <option value="workWithNow">Currently work with</option>
                    <option value="fellowAlumni">Fellow alumni</option>
                    <option value="studentWith">Student with</option>
                    <option value="metAtEvent">Met at</option>
                    <option value="referredBy">Referred</option>
                    <option value="dontKnowAtAll">We've never met</option>
                </select>
                <div id="relationshipHelp" class="form-text">Select how (or if) you know the person you're contacting.
                </div>
            </div>
            <div class="col-md-12 mb-2">
                <div id="myMessage"></div>
                <div id="wordCount" class="small"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-auto">
                <button id="copyButton" class="btn btn-outline-secondary" data-bs-toggle="tooltip"
                    title="Copied to clipboard"><i class="bi bi-clipboard"></i> Copy
                    Text</button>
            </div>
            <div class="col-auto">
                <a class="btn btn-outline-secondary" type="button" id="mailtoLink"><i class="bi bi-envelope"></i> Send
                    via Email</a>
            </div>
            <div class="col-auto ms-auto">
                <!-- Edit toggle button -->
                <a id="toggleEditButton" class="btn btn-sm btn-link" style="width:86px;">
                    <i id="editIcon" class="bi bi-pencil-square"></i>
                    <span id="editText">Edit</span>
                </a> <span class="text-medium text-small">to optionally customize the rest of the message.</span>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script>
        // Define the message templates
        var messages = {
            knowWell: '<p>Hi {contactName},</p><p>This is {myName}. Would you have a few minutes to chat about {topic} at {contactCompany}?</p><p>I am trying to learn more about your company, so your insights would be greatly appreciated.</p><p>Best regards,<br />{myFullName} </p>',
            workInTheSameField: '<p>Hi {contactName},</p><p>I’m {myName}, a fellow {myTitle}. Would you have a few minutes to chat about {topic} at {contactCompany}?</p><p>I am trying to learn more about your company, so your insights would be greatly appreciated.</p><p>Best regards,<br />{myFullName} </p>',
            workedWith: '<p>Hi {contactName},</p><p>This is {myName}. It’s been some time since we both worked at {contactCompany}. Would you have a few minutes to chat about {topic} at {contactCompany}?</p><p>I am trying to learn more about your company, so your insights would be greatly appreciated.</p><p>Best regards,<br />{myFullName} </p>',
            workWithNow: '<p>Hi {contactName},</p><p>This is {myName}. I am a {myTitle} at {contactCompany}. Would you have a few minutes to chat about {topic} at {contactCompany}?</p><p>I am trying to learn more about your company, so your insights would be greatly appreciated.</p><p>Best regards,<br />{myFullName} </p>',
            fellowAlumni: '<p>Hi {contactName},</p><p>I’m {myName}, a fellow alumni at {mySchool}. Would you have a few minutes to chat about {topic} at {contactCompany}?</p><p>I am trying to learn more about your company, so your insights would be greatly appreciated.</p><p>Best regards,<br />{myFullName} </p>',
            studentWith: '<p>Hi {contactName},</p><p>This is {myName}. It’s been a while since our time at {mySchool}. Would you have a few minutes to chat about {topic} at {contactCompany}?</p><p>I am trying to learn more about your company, so your insights would be greatly appreciated.</p><p>Best regards,<br />{myFullName} </p>',
            metAtEvent: '<p>Hi {contactName},</p><p>I’m {myName}. We met at at {myEvent}. Would you have a few minutes to chat about {topic} at {contactCompany}?</p><p>I am trying to learn more about your company, so your insights would be greatly appreciated.</p><p>Best regards,<br />{myFullName} </p>',
            referredBy: '<p>Hi {contactName},</p><p>I’m {myName}. {myFriend} suggested I contact you. Would you have a few minutes to chat about {topic} at {contactCompany}?</p><p>I am trying to learn more about your company, so your insights would be greatly appreciated.</p><p>Best regards,<br />{myFullName} </p>',
            dontKnowAtAll: '<p>Hi {contactName},</p><p>I’m {myName}, {myTitle}. Would you have a few minutes to chat about {topic} at {contactCompany}?</p><p>I am a {myTitle} trying to learn more about your company, so your insights would be greatly appreciated.</p><p>Best regards,<br />{myFullName}</p>',
            // Add more messages for other relationship values...
        };


        // Function to update the message based on the selected relationship
        function updateMessage() {
            var message = messages[this.value];
            if (message) {
                document.getElementById('myMessage').innerHTML = message
                    .replace(/{contactName}/g, '<span class="editable" contenteditable="true" tabindex="0">Drew</span>')
                    .replace(/{myName}/g, '<span class="editable" contenteditable="true" tabindex="1">Casey</span>')
                    .replace(/{myTitle}/g, '<span class="editable" contenteditable="true" tabindex="2">Manager</span>')
                    .replace(/{mySchool}/g, '<span class="editable" contenteditable="true" tabindex="2">School</span>')
                    .replace(/{myEvent}/g, '<span class="editable" contenteditable="true" tabindex="2">an event</span>')
                    .replace(/{myFriend}/g, '<span class="editable" contenteditable="true" tabindex="2">Ssomeone</span>')
                    .replace(/{topic}/g, '<span class="editable" contenteditable="true" tabindex="3">Operations</span>')
                    .replace(/{contactCompany}/g, '<span class="editable" contenteditable="true" tabindex="4">Company Inc</span>')
                    .replace(/{myFullName}/g, '<span class="editable" contenteditable="true" tabindex="5">Casey Jones</span>');

                // Add event listeners to the editable spans
                document.querySelectorAll('.editable').forEach(function (span) {
                    span.addEventListener('input', function () {
                        this.classList.add('changed');
                    });
                });
                // Function to select all text in a span
                function selectText() {
                    var range = document.createRange();
                    range.selectNodeContents(this);
                    var sel = window.getSelection();
                    sel.removeAllRanges();
                    sel.addRange(range);
                }

                // Add event listeners to the editable spans
                document.querySelectorAll('.editable').forEach(function (span) {
                    span.addEventListener('focus', selectText, false);
                    span.addEventListener('click', function (event) {
                        setTimeout(selectText.bind(this), 0);
                    }, false);
                });
            }
        }
        // Add a change event listener to the relationship select
        document.getElementById('relationship').addEventListener('change', updateMessage);

        // Update the message with the default relationship on page load
        window.addEventListener('load', function () {
            document.getElementById('relationship').dispatchEvent(new Event('change'));
        });

        // Add a click event listener to the copy button
        document.getElementById('copyButton').addEventListener('click', function () {
            var text = document.getElementById('myMessage').innerText; //innerHTML.replace(/<br>/g, '\n').replace(/<\/p><p>/g, '\n\n');
            // make the icon change when clicked
            var icon = this.querySelector('i.bi');
            icon.classList.add('bi-check-square'); // Change the icon when active
            icon.classList.remove('bi-clipboard');

            setTimeout(function () {
                icon.classList.remove('bi-check-square'); // Change the icon back after a delay
                icon.classList.add('bi-clipboard');
            }, 2000); // 2000ms = 2s

            navigator.clipboard.writeText(text).then(function () {
                console.log('Copying to clipboard was successful!');
                //document.getElementById('copyButton').classList.add('copied'); // Add the 'copied' class to the button
            }, function (err) {
                console.error('Could not copy text: ', err);
            });
        });

        // Add a click event listener to the send button
        document.getElementById('toggleEditButton').addEventListener('click', function () {
            var myMessage = document.getElementById('myMessage');
            var editIcon = document.getElementById('editIcon');
            var editText = document.getElementById('editText');

            if (myMessage.getAttribute('contenteditable') === 'true') {
                myMessage.setAttribute('contenteditable', 'false');
                myMessage.classList.remove('editable', 'd-block'); // remove the class when not editable

                // Change the icon and text back to 'Edit'
                editIcon.className = 'bi bi-pencil-square';
                editText.textContent = 'Edit';
            } else {
                myMessage.setAttribute('contenteditable', 'true');
                myMessage.classList.add('editable', 'd-block'); // add the class when editable

                // Change the icon and text to 'Done'
                editIcon.className = 'bi bi-check-square';
                editText.textContent = 'Done';
            }
        });
        // construct the accordion
        fetch('data.json')
            .then(response => response.json())
            .then(data => {
                const contentList = document.getElementById('contentList');

                const accordion = document.createElement('div');
                accordion.className = 'accordion';
                accordion.id = 'jobSteps';

                data.forEach((item, index) => {
                    const itemId = `collapse${index + 1}`;

                    const accordionItem = document.createElement('div');
                    accordionItem.className = 'accordion-item';

                    const accordionHeader = document.createElement('h2');
                    accordionHeader.className = 'accordion-header';

                    const accordionButton = document.createElement('button');
                    accordionButton.className = 'accordion-button collapsed';
                    accordionButton.type = 'button';
                    accordionButton.dataset.bsToggle = 'collapse';
                    accordionButton.dataset.bsTarget = `#${itemId}`;
                    accordionButton.ariaExpanded = 'false';
                    accordionButton.ariaControls = itemId;

                    const badge = document.createElement('span');
                    badge.className = 'badge text-bg-dark d-inline me-2';
                    badge.textContent = index + 1;

                    accordionButton.appendChild(badge);
                    accordionButton.appendChild(document.createTextNode(item.title));

                    accordionHeader.appendChild(accordionButton);

                    const accordionCollapse = document.createElement('div');
                    accordionCollapse.id = itemId;
                    accordionCollapse.className = 'accordion-collapse collapse';
                    accordionCollapse.dataset.bsParent = '#jobSteps';

                    if (index === 0) {
                        accordionCollapse.classList.add('show');
                        accordionButton.classList.remove('collapsed');
                        accordionButton.ariaExpanded = 'true';
                    }

                    const accordionBody = document.createElement('div');
                    accordionBody.className = 'accordion-body';
                    accordionBody.innerHTML = item.content;

                    accordionCollapse.appendChild(accordionBody);

                    accordionItem.appendChild(accordionHeader);
                    accordionItem.appendChild(accordionCollapse);

                    accordion.appendChild(accordionItem);
                });

                contentList.appendChild(accordion);
            });
        document.addEventListener('DOMContentLoaded', (event) => {
            const myMessage = document.getElementById('myMessage');
            const wordCount = document.getElementById('wordCount');

            const updateWordCount = () => {
                const textContent = myMessage.textContent;
                const count = textContent.split(/\s+/).filter(Boolean).length;
                let message = `Word count: ${count} (Keep it less than 75 words)`;
                if (count > 75) {
                    wordCount.style.color = 'red';
                } else {
                    wordCount.style.color = 'black';
                }


                wordCount.textContent = message;
            };

            // Update the word count initially
            updateWordCount();

            // Update the word count whenever the content of myMessage changes
            new MutationObserver(updateWordCount).observe(myMessage, { childList: true, subtree: true });
        });
    </script>
</body>

</html>